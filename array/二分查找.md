[TOC]

## 二分查找模板

```go
func binarySearch(nums []int, target int) int {
  left := 0
  right := ...
  for ... {
    mid := (left + right) / 2
    if nums[mid] == target {
      ...
    } else if nums[mid] < target {
      left = ...
    } else if nums[mid] > target {
      right = ...
    }
  }
  
  return ...
}
```

> 分析二分查找的一个技巧是： 不要出现else, 而是把所有情况用else if 写清楚，这样可以清楚地展现所有细节。

其中`...`标记的部分，就是可能会出现细节问题的地方，当你简单二分查找的代码时，首先注意这个地方。





### 基本的二分搜索

最简单的场景:

```go
func binarySearch(nums []int, target int) int {
	left := 0
	right := len(nums) - 1
	for left <= right {
		mid := (left + right) / 2
		if nums[mid] == target {
			return mid
		} else if nums[mid] < target {
			left = mid + 1
		} else if nums[mid] > target {
			right = mid - 1
		}
	}

	return -1
}
```

1. 为什么for 循环中的条件是`<=`，而不是`<`?

   因为初始化`right`的赋值`len(nums)-1`，即最后一个元素的索引，而不是`len(nums)`。



